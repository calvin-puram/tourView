(function(e){function t(t){for(var s,i,o=t[0],c=t[1],u=t[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);l&&l(t);while(m.length)m.shift()();return n.push.apply(n,u||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],s=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(s=!1)}s&&(n.splice(t--,1),e=i(i.s=r[0]))}return e}var s={},a={app:0},n=[];function i(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=s,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(r,s,function(t){return e[t]}.bind(null,s));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var s=r("8a23"),a=r.n(s);a.a},"174b":function(e,t,r){"use strict";var s=r("1c06"),a=r.n(s);a.a},"1c06":function(e,t,r){},"2b92":function(e,t,r){},"3eab":function(e,t,r){"use strict";var s=r("9e83"),a=r.n(s);a.a},"3fd0":function(e,t,r){"use strict";var s=r("6ba9"),a=r.n(s);a.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("Nav"),r("v-content",[r("router-view"),r("Footer")],1)],1)},n=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-navigation-drawer",{attrs:{app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[e.auth&&!e.confirmEmailSent?r("p",{staticClass:"text-center mobile-confirmaccount "},[e._v(" Please confirm your account or "),r("span",{staticClass:"ml-3 resendMail",on:{click:e.confirmMailMoblie}},[e._v(" "+e._s(e.loading?"Sending Mail...":"Resend Mail")+" ")])]):e._e(),r("v-list",{attrs:{dense:""}},[r("v-list-item",{attrs:{link:""}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-home")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Home")])],1)],1),r("v-list-item",{attrs:{link:""}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-contact-mail")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Contact")])],1)],1)],1)],1),r("v-app-bar",{attrs:{app:"",color:"#009432",dark:"",flat:""}},[r("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),r("router-link",{staticClass:"hidden-xs-only ml-5",attrs:{to:"/"}},[r("v-img",{attrs:{src:"/img/logo-green.png",width:"140px"}})],1),e.auth&&!e.confirmEmailSent?r("h6",{staticClass:"text-center confirmAccount"},[e._v(" Please confirm your account "),r("span",{staticClass:"ml-2 resendMail",on:{click:e.confirmMail}},[e._v(" "+e._s(e.loading?"Sending Mail...":"Resend Mail?")+" ")])]):e._e(),r("v-spacer"),r("div",{staticClass:"text-center mr-5 "},[e.auth?r("v-menu",{attrs:{"open-on-hover":"",buttom:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[r("v-btn",e._g({staticClass:" green--text font-weight-bold ",attrs:{color:"white"}},s),[e._v(" Explore "),r("v-icon",{attrs:{right:""}},[e._v("mdi-chevron-down")])],1)]}}],null,!1,1946241763)},[r("v-list",{staticClass:"mt-1 text-center"},[r("v-list-item",{attrs:{link:"",to:"/profile"}},[r("v-list-item-title",[e._v("Profile")])],1),r("v-list-item",{on:{click:e.logout}},[r("v-list-item-title",[e._v("Logout")])],1)],1)],1):e._e()],1),[e.auth?r("div",[r("router-link",{attrs:{to:"/profile"}},[r("v-avatar",{staticClass:"mr-5"},[r("img",{attrs:{src:"http://localhost:8000/img/users/"+e.setUser.photo,alt:"user"}})])],1)],1):r("div",{staticClass:"d-flex justify-content-between align-items-center"},[r("router-link",{attrs:{to:"/login"}},[r("v-btn",{staticClass:"white",attrs:{light:"",rounded:""}},[e._v("Login")])],1),r("router-link",{staticClass:"ml-5",attrs:{to:"/register"}},[r("v-btn",{staticClass:"white",attrs:{light:"",rounded:""}},[e._v("Register")])],1)],1)]],2)],1)},o=[],c=r("5530"),u=r("2f62"),l={data:function(){return{loading:!1}},methods:{toggleLoading:function(){this.loading=!this.loading}}},d={computed:Object(u["c"])(["getErrors"]),mixins:[l],props:{source:String},data:function(){return{drawer:!1,showMenu:!1,items:[{title:"Profile",route:"/profile"},{title:"Register",route:"/register"}]}},methods:Object(c["a"])({},Object(u["b"])(["resendEmail"]),{confirmMail:function(){var e=this;this.toggleLoading(),this.resendEmail().then((function(t){t&&t.data.success?(e.toggleLoading(),e.$noty.success("Email sent successfully!")):(e.toggleLoading(),e.$noty.error(e.getErrors))}))},confirmMailMoblie:function(){var e=this;this.toggleLoading(),this.resendEmail().then((function(t){t&&t.data.success?(e.toggleLoading(),e.$noty.success("Email sent successfully!")):(e.toggleLoading(),e.$noty.error(e.getErrors))}))}})},m=d,v=(r("174b"),r("2877")),p=r("6544"),f=r.n(p),g=r("40dc"),h=r("5bc1"),b=r("8212"),w=r("8336"),_=r("132d"),x=r("adda"),C=r("8860"),k=r("da13"),y=r("1800"),O=r("5d23"),j=r("e449"),R=r("f774"),E=r("2fa4"),V=Object(v["a"])(m,i,o,!1,null,"1aa51d84",null),L=V.exports;f()(V,{VAppBar:g["a"],VAppBarNavIcon:h["a"],VAvatar:b["a"],VBtn:w["a"],VIcon:_["a"],VImg:x["a"],VList:C["a"],VListItem:k["a"],VListItemAction:y["a"],VListItemContent:O["a"],VListItemTitle:O["b"],VMenu:j["a"],VNavigationDrawer:R["a"],VSpacer:E["a"]});var T=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-footer",{attrs:{app:""}},[r("img",{staticClass:"img",attrs:{src:"/img/logo-green-small.png",alt:"mg"}}),r("v-spacer"),r("span",{staticClass:"grey--text"},[e._v("Â© "+e._s((new Date).getFullYear())+" All Right Reserve")])],1)],1)},$=[],P=(r("dea1"),r("553a")),A={},S=Object(v["a"])(A,T,$,!1,null,null,null),F=S.exports;f()(S,{VFooter:P["a"],VSpacer:E["a"]});var I={name:"App",components:{Nav:L,Footer:F}},U=I,q=(r("034f"),r("7496")),D=r("a75b"),M=Object(v["a"])(U,a,n,!1,null,null,null),B=M.exports;f()(M,{VApp:q["a"],VContent:D["a"]});r("45fc");var N=r("8c4f"),G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",[r("Header")],1),r("Card")],1)},z=[],Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-carousel",{attrs:{cycle:"",height:"500","hide-delimiter-background":"","show-arrows-on-hover":""}},e._l(e.slides,(function(t,s){return r("v-carousel-item",{key:s,attrs:{src:e.colors[s],height:"100%",eager:"",gradient:"rgba(0,0,0, 0.5), rgba(0,0,0, 0.5)"}},[r("v-row",{staticClass:"white--text fill-height",attrs:{align:"center",justify:"center"}},[r("h1",{staticClass:"showcase-heading"},[e._v(" "+e._s(e.head[s])+" ")])])],1)})),1)},H=[],W={data:function(){return{colors:["/img/showcase/tour-1-1.jpg","/img/showcase/tour-4-1.jpg","/img/showcase/tour-4-3.jpg","/img/showcase/tour-6-2.jpg","/img/showcase/tour-7-2.jpg"],slides:["Amazing Tours For Unique VIPs","Second","Third","Fourth","Fifth"],head:["Amazing Tours For Unique VIPs","Premium Tours For The Elites","Discounted Tours All Year Round","Explore The World With Natours","Search, Plan, and Book"]}}},J=W,Q=(r("d573"),r("5e66")),X=r("3e35"),K=r("0fd9"),Z=Object(v["a"])(J,Y,H,!1,null,"7a2c5890",null),ee=Z.exports;f()(Z,{VCarousel:Q["a"],VCarouselItem:X["a"],VRow:K["a"]});var te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",e._l(e.getTours,(function(t){return r("v-col",{key:t._id,attrs:{cols:"md-4 sm-6 xs-12"}},[r("v-card",{staticClass:"mx-auto mb-5 ",attrs:{"max-width":"374"}},[r("v-img",{attrs:{height:"250",src:"http://localhost:8000/img/tours/"+t.imageCover}}),r("div",{staticClass:"d-flex justify-content-between align-items-center"},[r("v-card-title",[e._v(e._s(t.name))]),e.auth?r("div",{staticClass:"mr-5",on:{click:function(r){return e.handleLikes(t._id)}}},[e.likes.includes(t._id)?r("i",{staticClass:"\n                fas fa-thumbs-up text-success\n              "}):e._e(),e.likes.includes(t._id)?e._e():r("i",{staticClass:"\n                fas fa-thumbs-up \n              "})]):e._e()],1),r("v-card-text",[r("v-row",{staticClass:"mx-0",attrs:{align:"center"}},[r("v-rating",{attrs:{value:t.ratingsAverage,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}}),r("div",{staticClass:"grey--text ml-4"},[e._v(" "+e._s(t.ratingsAverage)+" ("+e._s(t.ratingsQuantity)+") ")])],1),r("div",[e._v(" "+e._s(t.summary)+" ")]),r("div",{staticClass:"d-flex justify-space-around align-center mt-5"},[r("div",[r("p",[r("v-icon",{attrs:{left:""}},[e._v("mdi-map-marker-check-outline")]),e._v(" "+e._s(t.startLocation.description)+" ")],1),r("p",[r("v-icon",{attrs:{left:""}},[e._v("mdi-calendar-check-outline")]),e._v(" "+e._s(new Date(t.startDates[0]).toDateString())+" ")],1)]),r("div",[r("p",[r("v-icon",{attrs:{left:""}},[e._v("mdi-map-search")]),e._v(" "+e._s(0!==t.location.length?t.locations.length:0)+" Stops ")],1),r("p",[r("v-icon",{attrs:{left:""}},[e._v("mdi-account-group")]),e._v(" "+e._s(t.maxGroupSize)+" People ")],1)])])],1),r("v-divider",{staticClass:"mx-4"}),r("div",{staticClass:"d-flex"},[r("v-card-text",[r("v-chip-group",{attrs:{"active-class":"deep-purple accent-4 white--text",column:""}},[r("v-chip",[e._v("$ "+e._s(t.price)+" per person")])],1)],1),r("v-card-actions",[r("v-btn",{staticClass:"white--text",attrs:{color:"#009432",link:"",to:"/tour/"+t.slug}},[e._v(" Details ")])],1)],1)],1)],1)})),1)],1)},re=[],se=(r("d81d"),{computed:Object(u["c"])(["getTourErrors","getTours","favoriteErr","getUserFavorite","createdFav"]),data:function(){return{likes:[]}},methods:Object(c["a"])({},Object(u["b"])(["tours","createFavorite","getFavorite"]),{handleLikes:function(e){var t=this;this.createFavorite(e).then((function(e){e&&e.data.success?(t.likes.push(t.createdFav.tour),t.$noty.success("tour added to favorite")):t.$noty.error(t.favoriteErr)}))}}),created:function(){var e=this;this.tours(),this.getFavorite(this.setUser._id).then((function(t){t&&t.data.success&&e.getUserFavorite.map((function(t){e.likes.push(t._id)}))}))}}),ae=se,ne=(r("87cd"),r("b0af")),ie=r("99d9"),oe=r("cc20"),ce=r("ef9a"),ue=r("62ad"),le=r("a523"),de=r("ce7e"),me=r("1d4d"),ve=Object(v["a"])(ae,te,re,!1,null,"6b501c3c",null),pe=ve.exports;f()(ve,{VBtn:w["a"],VCard:ne["a"],VCardActions:ie["a"],VCardText:ie["b"],VCardTitle:ie["c"],VChip:oe["a"],VChipGroup:ce["a"],VCol:ue["a"],VContainer:le["a"],VDivider:de["a"],VIcon:_["a"],VImg:x["a"],VRating:me["a"],VRow:K["a"]});var fe=r("64b0"),ge=r.n(fe),he=(r("96cf"),r("1da1")),be=r("bc3a"),we=r.n(be),_e={token:null,user:null,errors:null},xe=JSON.parse(localStorage.getItem("auth"))||_e,Ce={getErrors:function(){return xe.errors},getUsers:function(){return xe.user},isLoggedIn:function(){return!!xe.token}},ke={register:function(e,t){var r=e.commit;return Object(he["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.a.post("/api/v1/users/signup",t);case 3:return s=e.sent,s&&s.data.success&&r("auth_response",s.data),e.abrupt("return",s);case 8:e.prev=8,e.t0=e["catch"](0),e.t0&&e.t0.response&&r("auth_error",e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},login:function(e,t){var r=e.commit;return Object(he["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.a.post("api/v1/users/login",t);case 3:return s=e.sent,s&&s.data.success&&r("auth_response",s.data),e.abrupt("return",s);case 8:e.prev=8,e.t0=e["catch"](0),e.t0&&e.t0.response&&r("login_error",e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},logoutUser:function(e){var t=e.commit;t("logout")},forgotPassword:function(e,t){var r=e.commit;return Object(he["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.a.post("/api/v1/users/forgotPassword",t);case 3:return s=e.sent,s&&s.data.success&&r("auth_response",s.data),e.abrupt("return",s);case 8:e.prev=8,e.t0=e["catch"](0),e.t0&&e.t0.response&&r("login_error",e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},resetPassword:function(e,t){var r=e.commit;return Object(he["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.a.patch("/api/v1/users/resetPassword",t);case 3:return s=e.sent,s&&s.data.success&&r("auth_response",s.data),e.abrupt("return",s);case 8:e.prev=8,e.t0=e["catch"](0),e.t0&&e.t0.response&&r("login_error",e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},confirmAccount:function(e,t){var r=e.commit;return Object(he["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.a.post("/api/v1/users/confirmAccount",t);case 3:return s=e.sent,s&&s.data.success&&r("auth_response",s.data),e.abrupt("return",s);case 8:e.prev=8,e.t0=e["catch"](0),e.t0&&e.t0.response&&r("login_error",e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},resendEmail:function(e){var t=e.commit;return Object(he["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.a.patch("/api/v1/users/resendEmail");case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e["catch"](0),e.t0&&e.t0.response&&t("login_error",e.t0.response.data.msg);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},updateUsers:function(e,t){var r=e.commit;return Object(he["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.a.patch("/api/v1/users/updatePhotos",t);case 3:return s=e.sent,s&&s.data.success&&r("auth_response",s.data),e.abrupt("return",s);case 8:e.prev=8,e.t0=e["catch"](0),e.t0&&e.t0.response&&r("login_error",e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},updateProfilePassword:function(e,t){var r=e.commit;return Object(he["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.a.patch("/api/v1/users/updatePassword",t);case 3:return s=e.sent,s&&s.data.success&&r("auth_response",s.data),e.abrupt("return",s);case 8:e.prev=8,e.t0=e["catch"](0),e.t0&&e.t0.response&&r("login_error",e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},ye={auth_response:function(e,t){e.token=t.token,e.user=t.user,e.errors=null},auth_error:function(e,t){e.errors=t},login_error:function(e,t){e.errors=t},logout:function(e){e.token=null,e.user=null,e.errors=null}},Oe={state:xe,getters:Ce,actions:ke,mutations:ye},je={tours:[],tourError:null,tourLoading:!1,singleTour:[]},Re={getTours:function(){return je.tours},getOneTour:function(){return je.singleTour},getTourErrors:function(){return je.tourError},getLoading:function(){return je.tourLoading}},Ee={tours:function(e){var t=e.commit;return Object(he["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t("tourLoading_req"),e.next=4,we.a.get("/api/v1/tours");case 4:return r=e.sent,r&&r.data.success&&(t("tourLoading_res"),t("tours_response",r.data.data)),e.abrupt("return",r);case 9:e.prev=9,e.t0=e["catch"](0),e.t0&&e.t0.response&&(t("tourLoading_res"),t("tours_err",e.t0.response.data.msg));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},singleTours:function(e,t){var r=e.commit;return Object(he["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r("tourLoading_req"),e.next=4,we.a.get("/api/v1/tours/".concat(t));case 4:return s=e.sent,s&&s.data.success&&(r("tourLoading_res"),r("tourSingle_response",s.data.data)),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](0),e.t0&&e.t0.response&&(r("tourLoading_res"),r("tours_err",e.t0.response.data.msg));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}},Ve={tourLoading_req:function(e){e.tourLoading=!0,e.tourError=null},tourLoading_res:function(e){e.tourLoading=!1,e.tourError=null},tours_response:function(e,t){e.tours=t,e.tourError=null},tourSingle_response:function(e,t){e.singleTour=t,e.tourError=null},tours_err:function(e,t){e.tourError=t}},Le={state:je,getters:Re,actions:Ee,mutations:Ve},Te={session:null,sessionErr:null,paymentLoading:!1,bookingLoading:!1,bookings:[],myReviews:[],reviewsLoading:!1,favoriteErr:null,getUserFavorite:[],createdFav:{}},$e={getSession:function(){return Te.session},getSessionErr:function(){return Te.sessionErr},paymentLoading:function(){return Te.paymentLoading},bookingLoading:function(){return Te.bookingLoading},getBookings:function(){return Te.bookings},getMyReviews:function(){return Te.myReviews},reviewsLoading:function(){return Te.reviewsLoading},favoriteErr:function(){return Te.favoriteErr},getUserFavorite:function(){return Te.getUserFavorite},createdFav:function(){return Te.createdFav}},Pe={checkout:function(e,t){var r=e.commit;return Object(he["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r("payment_req"),e.next=4,we.a.get("api/v1/bookings/checkout-session/".concat(t));case 4:return s=e.sent,s&&s.data.success&&(r("payment_res"),r("session_response",s.data.data)),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](0),e.t0&&e.t0.response&&(r("payment_res"),r("session_err",e.t0.response.data.msg));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},bookingsCheckout:function(e,t){var r=e.commit;return Object(he["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.a.post("/api/v1/bookings/bookingsCheckout",t);case 3:return s=e.sent,e.abrupt("return",s);case 7:e.prev=7,e.t0=e["catch"](0),e.t0&&e.t0.response&&r("session_err",e.t0.response.data.msg);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getAllBookings:function(e){var t=e.commit;return Object(he["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t("bookings_req"),e.next=4,we.a.get("/api/v1/bookings");case 4:return r=e.sent,r&&r.data.success&&(t("bookings_res"),t("allBookings",r.data.data)),e.abrupt("return",r);case 9:e.prev=9,e.t0=e["catch"](0),e.t0&&e.t0.response&&t("session_err",e.t0.response.data.msg);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},userReviews:function(e){var t=e.commit;return Object(he["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t("payment_req"),e.next=4,we.a.get("/api/v1/reviews/myReviews");case 4:return r=e.sent,r&&r.data.success&&(t("payment_res"),t("myReviews_res",r.data.data)),e.abrupt("return",r);case 9:e.prev=9,e.t0=e["catch"](0),e.t0&&e.t0.response&&(t("payment_res"),t("session_err",e.t0.response.data.msg));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},deleteReviews:function(e,t){var r=e.commit;return Object(he["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r("deleteReview_req"),e.next=4,we.a.delete("/api/v1/reviews/".concat(t));case 4:return s=e.sent,s&&s.data.success&&r("deleteReview_res"),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](0),e.t0&&e.t0.response&&r("session_err",e.t0.response.data.msg);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},createFavorite:function(e,t){var r=e.commit;return Object(he["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.a.post("/api/v1/favorite/".concat(t));case 3:return s=e.sent,s&&s.data.success&&r("createdFav_tours",s.data.data),e.abrupt("return",s);case 8:e.prev=8,e.t0=e["catch"](0),e.t0&&e.t0.response&&r("favorite_err",e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getFavorite:function(e,t){var r=e.commit;return Object(he["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r("bookings_req"),e.next=4,we.a.get("/api/v1/favorite/".concat(t));case 4:return s=e.sent,s&&s.data.success&&(r("bookings_res"),r("favorite_tours",s.data.data)),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](0),e.t0&&e.t0.response&&r("favorite_err",e.t0.response.data.msg);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},deleteUsersFavorite:function(e,t){var r=e.commit;return Object(he["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r("bookings_req"),e.next=4,we.a.delete("/api/v1/favorite/".concat(t));case 4:return s=e.sent,s&&s.data.success&&r("bookings_res"),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](0),e.t0&&e.t0.response&&r("favorite_err",e.t0.response.data.msg);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}},Ae={payment_req:function(e){e.paymentLoading=!0,e.sessionErr=null},bookings_req:function(e){e.bookingLoading=!0,e.sessionErr=null},payment_res:function(e){e.paymentLoading=!1,e.sessionErr=null},favorite_err:function(e,t){e.favoriteErr=t},deleteReview_req:function(e){e.reviewsLoading=!0,e.sessionErr=null},deleteReview_res:function(e){e.reviewsLoading=!1,e.sessionErr=null},bookings_res:function(e){e.bookingLoading=!1,e.sessionErr=null},session_response:function(e,t){e.session=t,e.sessionErr=null},allBookings:function(e,t){e.bookings=t,e.bookingsErr=null},session_err:function(e,t){e.sessionErr=t},myReviews_res:function(e,t){e.myReviews=t,e.sessionErr=null},createdFav_tours:function(e,t){e.createdFav=t,e.favoriteErr=null},favorite_tours:function(e,t){e.getUserFavorite=t,e.favoriteErr=null}},Se={state:Te,getters:$e,actions:Pe,mutations:Ae};s["a"].use(u["a"]);var Fe=new u["a"].Store({modules:{auth:Oe,tours:Le,users:Se}}),Ie={computed:Object(u["c"])(["getLoading"]),components:{Card:pe,Header:ee},name:"Home",beforeRouteEnter:function(e,t,r){ge.a.start(),Fe.dispatch("tours").then((function(e){e&&e.data.success&&ge.a.done()})),r()},methods:Object(c["a"])({},Object(u["b"])(["tours"]))},Ue=Ie,qe=Object(v["a"])(Ue,G,z,!1,null,null,null),De=qe.exports,Me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6 mx-auto xs-12 mt-12"},[r("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail",required:""},model:{value:e.model.email,callback:function(t){e.$set(e.model,"email",t)},expression:"model.email"}}),r("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.show1?"text":"password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}}),r("div",{staticClass:" d-flex justify-content-between align-items-center mt-4"},[r("v-btn",{staticClass:"white--text ",attrs:{disabled:e.loading,color:"#009432"},on:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e.loading?r("i",{staticClass:"fas fa-spin fa-spinner"}):e._e(),e._v(" "+e._s(e.loading?"":"Login")+" ")]),r("router-link",{attrs:{to:"/forgot/password"}},[e._v("Forgot Password?")])],1)],1)],1)])])},Be=[],Ne={computed:Object(u["c"])(["getErrors"]),mixins:[l],data:function(){return{model:{email:"",password:""},valid:!0,show1:!1,rules:{required:function(e){return!!e||"Required."},min:function(e){return e.length>=8||"Min 8 characters"},emailMatch:function(){return"The email and password you entered don't match"}},emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}]}},methods:Object(c["a"])({},Object(u["b"])(["login"]),{handleLogin:function(){var e=this;this.$refs.form.validate()&&(this.toggleLoading(),this.snackbar=!0,this.login(this.model).then((function(t){e.toggleLoading(),t&&t.data.success?(e.setAuth(t.data),e.$noty.success("You're logged In successfully!")):e.$noty.error(e.getErrors)})))}})},Ge=Ne,ze=r("4bd4"),Ye=r("8654"),He=Object(v["a"])(Ge,Me,Be,!1,null,null,null),We=He.exports;f()(He,{VBtn:w["a"],VForm:ze["a"],VTextField:Ye["a"]});var Je=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6 mx-auto xs-12 mt-12"},[r("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{counter:20,rules:e.nameRules,label:"Name",required:""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}}),r("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail",required:""},model:{value:e.model.email,callback:function(t){e.$set(e.model,"email",t)},expression:"model.email"}}),r("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.show1?"text":"password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}}),r("v-text-field",{attrs:{"append-icon":e.show2?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.show2?"text":"password",name:"input-10-1",label:"Confirm Password",hint:"At least 8 characters",counter:""},on:{"click:append":function(t){e.show2=!e.show2}},model:{value:e.model.passwordConfirm,callback:function(t){e.$set(e.model,"passwordConfirm",t)},expression:"model.passwordConfirm"}}),r("div",{staticClass:" d-flex justify-content-between align-items-center mt-4"},[r("v-btn",{staticClass:"white--text ",attrs:{disabled:e.loading,color:"#009432"},on:{click:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e.loading?r("i",{staticClass:"fas fa-spin fa-spinner"}):e._e(),e._v(" "+e._s(e.loading?"":"Register")+" ")]),r("router-link",{attrs:{to:"/login"}},[e._v("Already have an account?")])],1)],1)],1)])])},Qe=[],Xe={computed:Object(u["c"])(["getErrors"]),mixins:[l],data:function(){return{model:{name:"",email:"",password:"",passwordConfirm:""},valid:!0,nameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=20||"Name must be less than 20 characters"}],show1:!1,show2:!1,rules:{required:function(e){return!!e||"Required."},min:function(e){return e.length>=8||"Min 8 characters"},emailMatch:function(){return"The email and password you entered don't match"}},emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}]}},methods:Object(c["a"])({},Object(u["b"])(["register"]),{handleRegister:function(){var e=this;this.$refs.form.validate()&&(this.toggleLoading(),this.snackbar=!0,this.register(this.model).then((function(t){e.toggleLoading(),t&&t.data.success?(e.setAuth(t.data),e.$noty.success("Your profile has been saved!")):e.$noty.error(e.getErrors)})))}})},Ke=Xe,Ze=Object(v["a"])(Ke,Je,Qe,!1,null,null,null),et=Ze.exports;f()(Ze,{VBtn:w["a"],VForm:ze["a"],VTextField:Ye["a"]});var tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6 mx-auto xs-12 mt-12"},[r("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail",required:""},model:{value:e.model.email,callback:function(t){e.$set(e.model,"email",t)},expression:"model.email"}}),r("v-btn",{staticClass:"white--text ",attrs:{disabled:e.loading,color:"#009432"},on:{click:function(t){return t.preventDefault(),e.handleforgotPassword(t)}}},[e.loading?r("i",{staticClass:"fas fa-spin fa-spinner"}):e._e(),e._v(" "+e._s(e.loading?"":"Login")+" ")])],1)],1)])])},rt=[],st={computed:Object(u["c"])(["getErrors"]),mixins:[l],data:function(){return{model:{email:""},valid:!0,show1:!1,rules:{required:function(e){return!!e||"Required."},min:function(e){return e.length>=8||"Min 8 characters"},emailMatch:function(){return"The email and password you entered don't match"}},emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}]}},methods:Object(c["a"])({},Object(u["b"])(["forgotPassword"]),{handleforgotPassword:function(){var e=this;this.$refs.form.validate()&&(this.toggleLoading(),this.snackbar=!0,this.forgotPassword(this.model).then((function(t){e.toggleLoading(),t&&t.data.success?(e.$noty.success("Reset passsword link sent to your email successfully!"),e.$router.push("/")):e.$noty.error(e.getErrors)})))}})},at=st,nt=Object(v["a"])(at,tt,rt,!1,null,null,null),it=nt.exports;f()(nt,{VBtn:w["a"],VForm:ze["a"],VTextField:Ye["a"]});var ot=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6 mx-auto xs-12 mt-12"},[r("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.show1?"text":"password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}}),r("v-text-field",{attrs:{"append-icon":e.show2?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.show2?"text":"password",name:"input-10-1",label:"Confirm Password",hint:"At least 8 characters",counter:""},on:{"click:append":function(t){e.show2=!e.show2}},model:{value:e.model.passwordConfirm,callback:function(t){e.$set(e.model,"passwordConfirm",t)},expression:"model.passwordConfirm"}}),r("v-btn",{staticClass:"white--text mt-4",attrs:{disabled:e.loading,color:"#009432"},on:{click:function(t){return t.preventDefault(),e.handleResetPassword(t)}}},[e.loading?r("i",{staticClass:"fas fa-spin fa-spinner"}):e._e(),e._v(" "+e._s(e.loading?"":"Login")+" ")])],1)],1)])])},ct=[],ut={computed:Object(u["c"])(["getErrors"]),mixins:[l],data:function(){return{model:{password:"",passwordConfirm:""},valid:!0,show1:!1,show2:!1,rules:{required:function(e){return!!e||"Required."},min:function(e){return e.length>=8||"Min 8 characters"},emailMatch:function(){return"The email and password you entered don't match"}},emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}]}},methods:Object(c["a"])({},Object(u["b"])(["resetPassword"]),{handleResetPassword:function(){var e=this;this.$refs.form.validate()&&(this.toggleLoading(),this.snackbar=!0,this.resetPassword(Object(c["a"])({},this.model,{token:this.$route.params.token})).then((function(t){e.toggleLoading(),t&&t.data.success?(e.$router.push("/login"),e.$noty.success("You're Password Reset was successfully!")):e.$noty.error(e.getErrors)})))}})},lt=ut,dt=Object(v["a"])(lt,ot,ct,!1,null,null,null),mt=dt.exports;f()(dt,{VBtn:w["a"],VForm:ze["a"],VTextField:Ye["a"]});var vt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},pt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6 mx-auto"},[r("h1",{staticClass:"text-success text-center mt-5"},[e._v("Confirming Account...")])])])])}],ft={computed:Object(u["c"])(["getErrors"]),methods:Object(c["a"])({},Object(u["b"])(["confirmAccount"])),mounted:function(){var e=this;this.confirmAccount({token:this.$route.params.token}).then((function(t){t&&t.data.success?(e.setAuth(t.data),e.$noty.success("Account Confirm successfully!")):(e.$noty.error(e.getErrors),e.$router.push("/"))}))}},gt=ft,ht=Object(v["a"])(gt,vt,pt,!1,null,null,null),bt=ht.exports,wt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[Object.values(e.getOneTour).length>0?r("div",[r("div",{staticClass:"image"},[r("v-img",{attrs:{src:"http://localhost:8000/img/tours/"+e.getOneTour.imageCover,gradient:"rgba(0,0,0, 0.5), rgba(0,0,0, 0.5)"}},[r("v-row",{staticClass:"white--text fill-height",attrs:{align:"center",justify:"center"}},[r("h1",{staticClass:"heading hidden-xs-only "},[e._v(e._s(e.getOneTour.name)+" Tour")])])],1)],1),r("v-container",{staticClass:"p-0"},[r("div",{staticClass:"section-a row "},[r("div",{staticClass:"col-md-4 col-sm-12"},[r("div",[r("h2",{staticClass:"text-center my-3 green--text headline"},[e._v("Quick Facts")]),r("div",{staticClass:"d-flex justify-space-between mb-2"},[r("span",{staticClass:"font-weight-medium"},[e._v("NEXT DATE")]),r("span",[e._v(" "+e._s(new Date(e.getOneTour.startDates[0]).toDateString()))])]),r("div",{staticClass:"d-flex justify-space-between mb-2"},[r("span",{staticClass:"font-weight-medium"},[e._v("DIFFICULTY")]),r("span",[e._v(" "+e._s(e.getOneTour.difficulty.toUpperCase()))])]),r("div",{staticClass:"d-flex justify-space-between mb-2"},[r("span",{staticClass:"font-weight-medium"},[e._v("PARTICIPANTS")]),r("span",[e._v(" "+e._s(e.getOneTour.maxGroupSize)+" People")])]),r("div",{staticClass:"d-flex justify-space-between "},[r("span",{staticClass:"font-weight-medium"},[e._v("RATINGS")]),r("span",[e._v(" "+e._s(e.getOneTour.ratingsAverage)+"/"+e._s(e.getOneTour.ratingsQuantity))])])]),r("v-divider"),r("div",{staticClass:"guides"},[r("h2",{staticClass:"text-center mb-2 green--text headline"},[e._v(" YOUR TOUR GUIDES ")]),e._l(e.getOneTour.guides,(function(t){return r("div",{key:t._id,staticClass:"d-flex justify-space-between align-items-center mb-2"},[r("span",[r("v-avatar",{staticClass:"mr-3"},[r("img",{attrs:{src:"http://localhost:8000/img/users/"+t.photo,alt:"John"}})]),r("span",{staticClass:"font-weight-medium"},[e._v(e._s("guide"===t.role?"Admin-Guide":"Lead-Guide"))])],1),r("span",[e._v(e._s(t.name))])])}))],2)],1),r("div",{staticClass:"col-md-8 col-sm-12"},[r("div",{staticClass:"d-flex flex-column align-center justify-center ml-10 tour-description"},[r("h2",{staticClass:"green--text my-2 headline"},[e._v(" ABOUT "+e._s(e.getOneTour.name.toUpperCase())+" TOUR ")]),e._l(e.getOneTour.description.split("\n"),(function(t){return r("div",{key:t},[r("p",[e._v(e._s(t))])])}))],2)])])]),r("ImageDisplay"),r("Reviews"),r("CTA")],1):e._e()])},_t=[],xt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main_wrapper"},[r("div",{staticClass:"py-5 bg-light c2a1 wrapper",staticStyle:{background:"linear-gradient(rgba(0,0,0,.2), rgba(0,0,0, .2)), url('/img/showcase/tour-1-1.jpg')"}},[r("div",{staticClass:"container"},[r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-md-7 text-center"},[r("h2",{staticClass:"mb-3 text-white font-weight-medium"},[e._v(" WHAT ARE YOU WAITING FOR? ")]),r("p",{staticClass:"font-weight-light text-white op-8"},[e._v(" "+e._s(e.getOneTour.duration)+" days. 1 adventure. Infinite memories. Make it yours today! ")]),e.auth?r("button",{staticClass:"btn btn-danger-gradiant btn-md border-0 text-white mt-3 text-uppercase",attrs:{disabled:e.paymentLoading},on:{click:function(t){return e.bookings(e.getOneTour.id)}}},[e._v(" "+e._s(e.paymentLoading?"Processing...":"Book Tour Now!")+" ")]):e._e(),e.auth?e._e():r("router-link",{staticClass:"btn btn-danger-gradiant btn-md border-0 text-white mt-3 text-uppercase",attrs:{to:"/login"}},[e._v(" Log In to Book Your Tour ")])],1)])])])])},Ct=[],kt={computed:Object(u["c"])(["getOneTour","paymentLoading"]),data:function(){return{stripe:null}},mounted:function(){this.stripe=window.Stripe("pk_test_dJzzxtLsf6alYgHLYuXU7YWf00xe1OnWxt")},methods:Object(c["a"])({},Object(u["b"])(["checkout"]),{bookings:function(e){var t=this;return Object(he["a"])(regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.checkout(e);case 2:return s=r.sent,r.next=5,t.stripe.redirectToCheckout({sessionId:s.data.data.id});case 5:case"end":return r.stop()}}),r)})))()}})},yt=kt,Ot=(r("d1db"),Object(v["a"])(yt,xt,Ct,!1,null,"7ad08f22",null)),jt=Ot.exports,Rt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"row"},e._l(e.getOneTour.images,(function(e){return r("div",{key:e,staticClass:"col-md-4 col-sm-12"},[r("img",{attrs:{src:"http://localhost:8000/img/tours/"+e,alt:"showcase"}})])})),0)])},Et=[],Vt={computed:Object(u["c"])(["getOneTour"])},Lt=Vt,Tt=(r("c989"),Object(v["a"])(Lt,Rt,Et,!1,null,"761c51b6",null)),$t=Tt.exports,Pt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper"},[e.getOneTour.reviews?r("div",{staticClass:"d-flex over"},e._l(e.getOneTour.reviews,(function(t){return r("v-card",{key:t._id,staticClass:"pos",attrs:{color:"#009432",dark:""}},[r("v-card-text",[e._v(e._s(t.review)+" ")]),r("v-card-actions",[r("v-list-item",{staticClass:"grow"},[r("v-list-item-avatar",{attrs:{color:"grey darken-3"}},[r("v-img",{staticClass:"elevation-6",attrs:{src:"http://localhost:8000/img/users/"+t.user.photo}})],1),r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(t.user.name))])],1)],1)],1)],1)})),1):e._e()])},At=[],St={computed:Object(u["c"])(["getOneTour"])},Ft=St,It=(r("3fd0"),r("8270")),Ut=Object(v["a"])(Ft,Pt,At,!1,null,"2367c526",null),qt=Ut.exports;f()(Ut,{VCard:ne["a"],VCardActions:ie["a"],VCardText:ie["b"],VImg:x["a"],VListItem:k["a"],VListItemAvatar:It["a"],VListItemContent:O["a"],VListItemTitle:O["b"]});var Dt={components:{CTA:jt,ImageDisplay:$t,Reviews:qt},beforeRouteEnter:function(e,t,r){ge.a.start(),Fe.dispatch("singleTours",e.params.slug).then((function(e){e&&e.data.success&&ge.a.done()})),r()},computed:Object(u["c"])(["getOneTour"]),methods:Object(c["a"])({},Object(u["b"])(["singleTours"]))},Mt=Dt,Bt=(r("a0e4"),Object(v["a"])(Mt,wt,_t,!1,null,"247ba158",null)),Nt=Bt.exports;f()(Bt,{VAvatar:b["a"],VContainer:le["a"],VDivider:de["a"],VImg:x["a"],VRow:K["a"]});var Gt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.auth?r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-3  col-xs-12 profile__sidebar pt-10"},[r("div",[r("div",[r("v-list",{attrs:{color:"#f4f4f4",light:"",flat:""}},[r("v-list-item-group",{attrs:{color:"#333"},model:{value:e.item,callback:function(t){e.item=t},expression:"item"}},e._l(e.items,(function(t,s){return r("v-list-item",{key:s,attrs:{link:"",to:{name:t.route}}},[r("v-list-item-icon",[r("v-icon",[e._v(e._s(t.icon))])],1),r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(t.text))])],1)],1)})),1)],1)],1)])]),r("div",{staticClass:"col-lg-9 col-xs-12"},[r("div",{staticClass:"main_profile"},[r("h2",{staticClass:"text-center headline mt-5"},[e._v("YOUR ACCOUNT SETTINGS")]),r("v-form",{ref:"formm",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{counter:50,rules:e.nameRules,label:"Name",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),r("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("v-btn",{staticClass:"my-4 ",attrs:{color:"success"},on:{click:e.updateUser}},[e.loading?r("i",{staticClass:"fas fa-spin fa-spinner"}):e._e(),e._v(" "+e._s(e.loading?"":"SAVE SETTINGS")+" ")])],1),r("div",{staticClass:"my-5"},[r("Uploads")],1)],1),r("div",{staticClass:"mt-12 pb-5 main_profile"},[r("v-divider"),r("h2",{staticClass:"text-center headline"},[e._v("PASSWORD CHANGE")]),r("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.show1?"text":"password",name:"input-10-1",label:"Current Password",hint:"At least 8 characters",counter:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.currentPassword,callback:function(t){e.currentPassword=t},expression:"currentPassword"}}),r("v-text-field",{attrs:{"append-icon":e.show2?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.show2?"text":"password",name:"input-10-1",label:"New Password",hint:"At least 8 characters",counter:""},on:{"click:append":function(t){e.show2=!e.show2}},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}}),r("v-text-field",{attrs:{"append-icon":e.show3?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.show3?"text":"password",name:"input-10-1",label:"Confirm Password",hint:"At least 8 characters",counter:""},on:{"click:append":function(t){e.show3=!e.show3}},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}}),r("v-btn",{staticClass:"mr-4 mb-6 float-right",attrs:{disabled:!e.valid,color:"success"},on:{click:e.updatePassword}},[e.loading?r("i",{staticClass:"fas fa-spin fa-spinner"}):e._e(),e._v(" "+e._s(e.loading?"":"SAVE PASSWORD")+" ")])],1)],1)])])]):e._e()},zt=[],Yt=(r("b0c0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-flex justify-content-center align-items-center text-center"},[r("v-avatar",[r("img",{attrs:{src:"http://localhost:8000/img/users/"+e.setUser.photo,alt:"user"}})]),r("v-dialog",{attrs:{width:"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[r("v-btn",e._g({staticClass:" white--text mb-3 ml-5 mt-2 ",attrs:{color:"#009432"}},s),[r("v-icon",{staticClass:"white--text"},[e._v("mdi-grease-pencil")]),r("span",[e._v("Upload Image")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",[e._v("Upload An Image")]),r("v-card-text",[r("form",{attrs:{encType:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.uploadFile(t)}}},[r("div",{staticClass:"form-group"},[r("input",{staticClass:"form-control-file",attrs:{type:"file",required:""},on:{change:e.OnfileChange}})]),r("div",{on:{click:function(t){e.dialog=!1}}},[r("button",{staticClass:"btn btn-primary btn-block"},[e._v(" Upload Image ")])])])])],1)],1)],1)}),Ht=[],Wt={name:"Uploads",computed:Object(u["c"])(["getProfileErrors"]),data:function(){return{dialog:!1,file:""}},methods:Object(c["a"])({},Object(u["b"])(["updateUsers"]),{OnfileChange:function(e){this.file=e.target.files[0]},uploadFile:function(){var e=this,t=new FormData;t.append("file",this.file),this.updateUsers(t).then((function(t){t&&t.data.success?(e.setAuth(t.data),e.$noty.success("profile image uploaded successfully!")):e.$noty.error(e.getProfileErrors)}))}})},Jt=Wt,Qt=r("169a"),Xt=Object(v["a"])(Jt,Yt,Ht,!1,null,null,null),Kt=Xt.exports;f()(Xt,{VAvatar:b["a"],VBtn:w["a"],VCard:ne["a"],VCardText:ie["b"],VCardTitle:ie["c"],VDialog:Qt["a"],VIcon:_["a"]});var Zt={components:{Uploads:Kt},computed:Object(u["c"])(["getProfile","getProfileErrors"]),mixins:[l],data:function(){return{file:"",item:1,items:[{text:" Favorite Tours",icon:"mdi-heart",route:"favorite"},{text:"My Reviews",icon:"mdi-star-four-points",route:"my-reviews"},{text:"My Bookings",icon:"mdi-credit-card",route:"bookings"}],valid:!0,name:"",nameRules:[function(e){return!!e||" Name is required"},function(e){return e&&e.length<=50||"Name must be more than 50 characters"}],email:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],currentPassword:"",show1:!1,rules:{required:function(e){return!!e||"Required."},min:function(e){return e.length>=8||"Min 8 characters"}},newPassword:"",show2:!1,confirmPassword:"",show3:!1}},methods:Object(c["a"])({},Object(u["b"])(["profileDetails","updateProfilePassword"]),{OnfileChange:function(e){this.file=e.target.files[0]},updateUser:function(){var e=this;if(this.toggleLoading(),this.$refs.formm.validate()){this.snackbar=!0;var t={name:this.name,email:this.email};this.profileDetails(t).then((function(t){e.toggleLoading(),t&&t.data.success?(e.setAuth(t.data),e.$noty.success("Profile Details Updated successfully!")):e.$noty.error(e.getProfileErrors)}))}},updatePassword:function(){var e=this;if(this.toggleLoading(),this.$refs.form.validate()){this.snackbar=!0;var t={currentPassword:this.currentPassword,newPassword:this.newPassword,passwordConfirm:this.confirmPassword};this.updateProfilePassword(t).then((function(t){e.toggleLoading(),t&&t.data.success?e.$noty.success("Password Updated successfully!"):e.$noty.error(e.getProfileErrors)}))}}}),created:function(){this.name=this.setUser.name,this.email=this.setUser.email}},er=Zt,tr=(r("d4ab"),r("1baa")),rr=r("34c3"),sr=Object(v["a"])(er,Gt,zt,!1,null,"6f2c305e",null),ar=sr.exports;f()(sr,{VBtn:w["a"],VDivider:de["a"],VForm:ze["a"],VIcon:_["a"],VList:C["a"],VListItem:k["a"],VListItemContent:O["a"],VListItemGroup:tr["a"],VListItemIcon:rr["a"],VListItemTitle:O["b"],VTextField:Ye["a"]});var nr=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ir=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",{staticClass:"text-center mt-5"},[e._v("Payment Success")])])}],or={props:["tour","user","price"],methods:Object(c["a"])({},Object(u["b"])(["bookingsCheckout"])),created:function(){var e=this,t={tour:this.tour,user:this.user,price:this.price};this.bookingsCheckout(t).then((function(t){t&&t.data.success&&(e.$router.push("/"),e.$noty.info("Tour Booked successfully!"))}))}},cr=or,ur=Object(v["a"])(cr,nr,ir,!1,null,null,null),lr=ur.exports,dr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.getBookings?r("v-container",[e.getBookings.length>0?r("v-row",e._l(e.getBookings,(function(t){return r("v-col",{key:t._id,attrs:{cols:"md-4 sm-6 xs-12"}},[r("v-card",{staticClass:"mx-auto mb-5 ",attrs:{"max-width":"374"}},[r("v-img",{attrs:{height:"250",src:"http://localhost:8000/img/tours/"+t.imageCover}}),r("v-card-title",[e._v(e._s(t.name))]),r("v-card-text",[r("v-row",{staticClass:"mx-0",attrs:{align:"center"}},[r("v-rating",{attrs:{value:t.ratingsAverage,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}}),r("div",{staticClass:"grey--text ml-4"},[e._v(" "+e._s(t.ratingsAverage)+" ("+e._s(t.ratingsQuantity)+") ")])],1),r("div",[e._v(" "+e._s(t.summary)+" ")]),r("div",{staticClass:"d-flex justify-space-around align-center mt-5"},[r("div",[r("p",[r("v-icon",{attrs:{left:""}},[e._v("mdi-map-marker-check-outline")]),e._v(" "+e._s(t.startLocation.description)+" ")],1),r("p",[r("v-icon",{attrs:{left:""}},[e._v("mdi-calendar-check-outline")]),e._v(" "+e._s(new Date(t.startDates[0]).toDateString())+" ")],1)]),r("div",[r("p",[r("v-icon",{attrs:{left:""}},[e._v("mdi-map-search")]),e._v(" "+e._s(0!==t.location.length?t.locations.length:0)+" Stops ")],1),r("p",[r("v-icon",{attrs:{left:""}},[e._v("mdi-account-group")]),e._v(" "+e._s(t.maxGroupSize)+" People ")],1)])])],1),r("v-divider",{staticClass:"mx-4"}),r("div",{staticClass:"d-flex"},[r("v-card-text",[r("v-chip-group",{attrs:{"active-class":"deep-purple accent-4 white--text",column:""}},[r("v-chip",[e._v("$ "+e._s(t.price)+" per person")])],1)],1),r("v-card-actions",[r("v-btn",{staticClass:"white--text",attrs:{color:"#009432",rounded:"",link:"",to:"/tour/"+t.slug}},[e._v(" Details ")])],1)],1)],1)],1)})),1):e._e()],1):e._e(),0===e.getBookings.length?r("v-container",[r("h3",{staticClass:"text-center mt-5"},[e._v("User Has No Booking Yet")])]):e._e()],1)},mr=[],vr={computed:Object(u["c"])(["getBookings","getSessionErr","bookingLoading"]),methods:Object(c["a"])({},Object(u["b"])(["getAllBookings"])),beforeRouteEnter:function(e,t,r){ge.a.start(),Fe.dispatch("getAllBookings").then((function(e){e&&e.data.success,ge.a.done()})),r()}},pr=vr,fr=Object(v["a"])(pr,dr,mr,!1,null,null,null),gr=fr.exports;f()(fr,{VBtn:w["a"],VCard:ne["a"],VCardActions:ie["a"],VCardText:ie["b"],VCardTitle:ie["c"],VChip:oe["a"],VChipGroup:ce["a"],VCol:ue["a"],VContainer:le["a"],VDivider:de["a"],VIcon:_["a"],VImg:x["a"],VRating:me["a"],VRow:K["a"]});var hr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.getMyReviews?r("div",{staticClass:"container"},[r("div",{staticClass:"row"},e._l(e.getMyReviews,(function(t){return r("div",{key:t._id,staticClass:"col-md-4 col-sm-6 col-xs-12"},[r("v-card",{staticClass:"mx-auto",attrs:{color:"#009432",dark:"",width:"500px"}},[r("v-card-title",[e._v(" Tour "),r("span",{staticClass:"title font-weight-light ml-4"},[e._v(e._s(t.tour.name))])]),r("v-card-text",[e._v(" "+e._s(t.review.slice(0,80))+" ")]),r("v-card-actions",[r("v-list-item",{staticClass:"grow"},[r("v-list-item-avatar",{attrs:{color:"grey darken-3"}},[r("v-img",{staticClass:"elevation-6",attrs:{src:"http://localhost:8000/img/users/"+t.user.photo}})],1),r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(t.user.name))])],1),r("v-row",{attrs:{align:"center",justify:"end"}},[r("div",{staticClass:"my-2"},[r("v-btn",{attrs:{small:"",color:"error"},on:{click:function(r){return e.deleteUserReview(t._id)}}},[e.reviewsLoading?r("i",{staticClass:"fas fa-spin fa-spinner"}):e._e(),e._v(" "+e._s(e.reviewsLoading?"":"Delete Review")+" ")])],1)])],1)],1)],1)],1)})),0)]):e._e(),0===e.getMyReviews.length?r("div",{staticClass:"container"},[r("h3",{staticClass:"text-center mt-5"},[e._v("User Has no Reviews")])]):e._e()])},br=[],wr={computed:Object(u["c"])(["getMyReviews","getSessionErr","paymentLoading","reviewsLoading"]),methods:Object(c["a"])({},Object(u["b"])(["userReviews","deleteReviews"]),{deleteUserReview:function(e){var t=this;this.deleteReviews(e).then((function(e){e&&e.data.success?(t.$noty.success("review deleted successfully"),t.$router.push("/profile")):t.$noty.error(t.getSessionErr)}))}}),beforeRouteEnter:function(e,t,r){ge.a.start(),Fe.dispatch("userReviews").then((function(e){e&&e.data.success,ge.a.done()})),r()}},_r=wr,xr=Object(v["a"])(_r,hr,br,!1,null,null,null),Cr=xr.exports;f()(xr,{VBtn:w["a"],VCard:ne["a"],VCardActions:ie["a"],VCardText:ie["b"],VCardTitle:ie["c"],VImg:x["a"],VListItem:k["a"],VListItemAvatar:It["a"],VListItemContent:O["a"],VListItemTitle:O["b"],VRow:K["a"]});var kr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.bookingLoading?r("div",[r("Spinner")],1):e._e(),e.getUserFavorite&&!e.bookingLoading?r("v-container",[e.getUserFavorite.length>0?r("v-row",e._l(e.getUserFavorite,(function(t){return r("v-col",{key:t._id,attrs:{cols:"md-4 sm-6 xs-12"}},[r("v-card",{staticClass:"mx-auto mb-5 ",attrs:{"max-width":"374"}},[r("v-img",{attrs:{height:"250",src:"http://localhost:8000/img/tours/"+t.imageCover}}),r("div",{staticClass:"d-flex justify-content-between align-items-center"},[r("v-card-title",[e._v(e._s(t.name))]),r("div",{staticClass:"mr-5"},[r("i",{staticClass:"fas fa-thumbs-down",on:{click:function(r){return e.deleteFavorite(t._id)}}})])],1),r("v-card-text",[r("v-row",{staticClass:"mx-0",attrs:{align:"center"}},[r("v-rating",{attrs:{value:t.ratingsAverage,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}}),r("div",{staticClass:"grey--text ml-4"},[e._v(" "+e._s(t.ratingsAverage)+" ("+e._s(t.ratingsQuantity)+") ")])],1),r("div",[e._v(" "+e._s(t.summary)+" ")]),r("div",{staticClass:"d-flex justify-space-around align-center mt-5"},[r("div",[r("p",[r("v-icon",{attrs:{left:""}},[e._v("mdi-map-marker-check-outline")]),e._v(" "+e._s(t.startLocation.description)+" ")],1),r("p",[r("v-icon",{attrs:{left:""}},[e._v("mdi-calendar-check-outline")]),e._v(" "+e._s(new Date(t.startDates[0]).toDateString())+" ")],1)]),r("div",[r("p",[r("v-icon",{attrs:{left:""}},[e._v("mdi-map-search")]),e._v(" "+e._s(0!==t.location.length?t.locations.length:0)+" Stops ")],1),r("p",[r("v-icon",{attrs:{left:""}},[e._v("mdi-account-group")]),e._v(" "+e._s(t.maxGroupSize)+" People ")],1)])])],1),r("v-divider",{staticClass:"mx-4"}),r("div",{staticClass:"d-flex"},[r("v-card-text",[r("v-chip-group",{attrs:{"active-class":"deep-purple accent-4 white--text",column:""}},[r("v-chip",[e._v("$ "+e._s(t.price)+" per person")])],1)],1),r("v-card-actions",[r("v-btn",{staticClass:"white--text",attrs:{color:"#009432",rounded:"",link:"",to:"/tour/"+t.slug}},[e._v(" Details ")])],1)],1)],1)],1)})),1):e._e()],1):e._e()],1)},yr=[],Or=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},jr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"spinner"},[r("img",{attrs:{src:"/img/spinner.gif",width:"5%",alt:"spinner"}})])}],Rr=(r("3eab"),{}),Er=Object(v["a"])(Rr,Or,jr,!1,null,"6237a782",null),Vr=Er.exports,Lr={components:{Spinner:Vr},computed:Object(u["c"])(["getUserFavorite","favoriteErr","bookingLoading"]),methods:Object(c["a"])({},Object(u["b"])(["getFavorite","deleteUsersFavorite"]),{deleteFavorite:function(e){var t=this;this.deleteUsersFavorite(e).then((function(e){e&&e.data.success?(t.$noty.success("Favorite  Tour removed successfully"),t.$router.push("/profile")):t.$noty.error(t.favoriteErr)}))}}),created:function(){var e=this;this.getFavorite(this.setUser._id).then((function(t){t&&t.data.success?e.$noty.info("All Favorite Tours"):(e.$noty.error(e.favoriteErr),e.$router.push("/"))}))}},Tr=Lr,$r=(r("96fb"),Object(v["a"])(Tr,kr,yr,!1,null,"52741184",null)),Pr=$r.exports;f()($r,{VBtn:w["a"],VCard:ne["a"],VCardActions:ie["a"],VCardText:ie["b"],VCardTitle:ie["c"],VChip:oe["a"],VChipGroup:ce["a"],VCol:ue["a"],VContainer:le["a"],VDivider:de["a"],VIcon:_["a"],VImg:x["a"],VRating:me["a"],VRow:K["a"]}),s["a"].use(N["a"]);var Ar=[{path:"/",component:De},{path:"/tour/:slug",component:Nt},{path:"/tour/bookings/:tour/:user/:price",name:"bookingsSuccess",component:lr,props:!0},{path:"/tours/bookings",component:gr,name:"bookings",meta:{requiresAuth:!0}},{path:"/tours/myReviews",component:Cr,name:"my-reviews",meta:{requiresAuth:!0}},{path:"/tours/favorite",component:Pr,name:"favorite",meta:{requiresAuth:!0}},{path:"/profile",component:ar,meta:{requiresAuth:!0}},{path:"/login",component:We,meta:{requiresGuest:!0}},{path:"/register",component:et,meta:{requiresGuest:!0}},{path:"/forgot/password",component:it,meta:{requiresGuest:!0}},{path:"/reset/password/:token",component:mt,meta:{requiresGuest:!0}},{path:"/email/confirm/:token",component:bt,meta:{requiresAuth:!0}}],Sr=new N["a"]({mode:"history",base:"/",routes:Ar});Sr.beforeEach((function(e,t,r){e.matched.some((function(e){return e.meta.requiresAuth}))?Fe.getters.isLoggedIn?r():r("/login"):e.matched.some((function(e){return e.meta.requiresGuest}))&&Fe.getters.isLoggedIn?r("/profile"):r()}));var Fr=Sr,Ir=r("f309");s["a"].use(Ir["a"]);var Ur=new Ir["a"]({}),qr=r("73e4"),Dr=r.n(qr),Mr={computed:Object(c["a"])({},Object(u["c"])(["getUsers","getProfile"]),{auth:function(){return!!this.getUsers},setUser:function(){return this.getUsers},confirmEmailSent:function(){return!!this.getUsers.emailConfirmAt}}),methods:Object(c["a"])({},Object(u["b"])(["logoutUser","myProfile"]),{setAuth:function(e){localStorage.setItem("auth",JSON.stringify(e)),we.a.defaults.headers.common["Authorization"]="Bearer ".concat(e.token),this.$router.push("/")},logout:function(){localStorage.removeItem("auth"),delete we.a.defaults.headers.common["Authorization"],this.logoutUser(),"/"!==this.$route.path&&this.$router.push("/")}})};r("5812"),r("2a97");ge.a.configure({showSpinner:!0}),s["a"].config.productionTip=!1,s["a"].prototype.$http=we.a,s["a"].mixin(Mr);var Br=JSON.parse(localStorage.getItem("auth"))||"";s["a"].prototype.$http.defaults.headers.common["Authorization"]="Bearer ".concat(Br.token),s["a"].use(Dr.a),new s["a"]({router:Fr,store:Fe,vuetify:Ur,render:function(e){return e(B)}}).$mount("#app")},"6ba9":function(e,t,r){},"79dc":function(e,t,r){},"7ed0":function(e,t,r){},"87cd":function(e,t,r){"use strict";var s=r("79dc"),a=r.n(s);a.a},"8a23":function(e,t,r){},"96fb":function(e,t,r){"use strict";var s=r("2b92"),a=r.n(s);a.a},"9e83":function(e,t,r){},"9f5a":function(e,t,r){},a0e4:function(e,t,r){"use strict";var s=r("d15e"),a=r.n(s);a.a},b0ac:function(e,t,r){},c209:function(e,t,r){},c989:function(e,t,r){"use strict";var s=r("c209"),a=r.n(s);a.a},d15e:function(e,t,r){},d1db:function(e,t,r){"use strict";var s=r("9f5a"),a=r.n(s);a.a},d4ab:function(e,t,r){"use strict";var s=r("7ed0"),a=r.n(s);a.a},d573:function(e,t,r){"use strict";var s=r("f3e9"),a=r.n(s);a.a},dea1:function(e,t,r){"use strict";var s=r("b0ac"),a=r.n(s);a.a},f3e9:function(e,t,r){}});
//# sourceMappingURL=app.8c5aa23d.js.map